version: "3.1" # stories-greeting.yml has greeting and continuation to booking stories for the restaurant bot

stories:

  # -------------------------------- Greet and push towards book restaurant happy path ------------------------------- #

  - story: Greeting and bot introduction
    steps:
      - intent: greet
      - action: utter_greet
      - action: utter_bot_intro
      - action: utter_wanna_book
      - checkpoint: greet_and_intro_checkpoint

  - story: User affirms to check restaurant
    steps:
      - checkpoint: greet_and_intro_checkpoint
      - intent: affirm
      - action: action_show_restaurants

  - story: User denies to check restaurant
    steps:
      - checkpoint: greet_and_intro_checkpoint
      - intent: deny
      - action: utter_thank_you
      - action: action_ask_anything_else

  - story: User request restaurant after greet and intro
    steps:
      - checkpoint: greet_and_intro_checkpoint
      - intent: request_restaurants
      - action: action_show_restaurants

  # no checkpoints for below ones

  - story: User request restaurant directly
    steps:
      - intent: request_restaurants
      - action: action_show_restaurants

  # --------------------------------------------------- User Mood check ---------------------------------------------- #

  - story: after greet + mood great + ask checkout restaurant #3
    steps:
      - intent: mood_great
      - action: utter_mood_great_feedback
      - action: utter_wanna_book

  - story: after greet + mood unhappy + ask checkout restaurant #4
    steps:
      - intent: mood_unhappy
      - action: utter_mood_unhappy_feedback
      - action: utter_wanna_book

  # ---------------------------------------------------- emojis ------------------------------------------------------ #

  - story: after greet + mood great emoji + ask checkout restaurant #5
    steps:
      - intent: emoji_mood_great
      - action: utter_emoji_great_feedback
      - action: utter_wanna_book

  - story: after greet + mood unhappy emoji + ask checkout restaurant #6 -> continue from stories-restaurant-booking.yml
    steps:
      - intent: emoji_mood_unhappy
      - action: utter_emoji_mood_unhappy_feedback
      - action: utter_wanna_book

    # ------------------------------------------------- Removed ---------------------------------------------- #

    #  - story: when user greet continuously #3
    #    steps:
    #      - action: utter_wanna_book
    #      - intent: greet
    #      - action: utter_greet_again
    #      - action: utter_wanna_book
