# domain.yml is the file where you define the domain of your assistant.
# This includes the intents, entities, slots, templates, actions, and forms your assistant uses.

version: "3.1"

# NLU

# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #
# ---------------------------------------------------- Intents ------------------------------------------------------ #
# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #

intents:

  # ----------------------------------------------------- Basic ----------------------------------------------------- #
  - greet
  - mood_unhappy
  - mood_great
  - goodbye
  - affirm
  - deny
  - bot_challenge
  - emoji_mood_great
  - emoji_mood_unhappy

  # ---------------------------------------------- restaurant-inform.yml -------------------------------------------- #
  - inform_cuisine                                        #
  - inform_restaurant_id                                  #
  - inform_booking_restaurant_id                          #
  - inform_view_details_restaurant_id                     #
  - inform_num_people                                     #
  - inform_date                                           #
  - inform_location                                       #
  - inform_restaurant_name                                #
  - inform_more_restaurants                               #

  # ----------------------------------------------- restaurant-request ---------------------------------------------- #
  - request_restaurants                                   #
  - request_cuisines                                      #
  - request_more_restaurant_options                       #
  - request_menu
  - request_opening_hours
  - request_ambiance

  # ------------------------------------------- restaurant-knowledge-query ------------------------------------------ #
  - query_knowledge_base

  # ------------------------------------------------- multi intents ------------------------------------------------- #
  - request_restaurants + inform_opening_hours

# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #
# ---------------------------------------------------- Entities ----------------------------------------------------- #
# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #

entities:
  - object_type
  - mention
  - attribute
  - user_id
  - restaurant_id
  - restaurant_name
  - selected_restaurant
  - cuisine
  - city
  - num_people
  - opening_hours
  - date
  - time
  - ambiance
  - price_range
  - preferences

# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #
# ----------------------------------------------------- Slots ------------------------------------------------------- #
# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #

slots:

  user_id:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: user_id

  cuisine:
    type: text
    mappings:
      - type: from_entity
        entity: cuisine
        intent:
          - inform_cuisine
          - search_restaurants

  restaurant_id:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: restaurant_id
        intent:
          - inform_restaurant_id
          - inform_booking_restaurant_id
          - inform_view_details_restaurant_id

  selected_restaurant:
    type: any
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: selected_restaurant

  num_people:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: num_people
        intent:
          - inform_num_people

  date:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: date
        intent:
          - inform_date
          - search_restaurants

  time:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: time
        intent:
          - inform_time
          - search_restaurants

  # ------------------------------------------ Knowledge base query related ------------------------------------------ #
  object_type:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: object_type

  mention:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: mention

  attribute:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: attribute

  preferences:
    type: list
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: preferences

  restaurant_name:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: restaurant_name

  city:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: city

# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #
# ------------------------------------------------------ Forms ------------------------------------------------------ #
# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #

forms:
  # long forms
  basic_restaurant_search_form:
    ignored_intents:
      - out_of_scope
      - bot_challenge
    required_slots:
      #- user_id
      - cuisine

  advance_restaurant_search_form:
    ignored_intents:
      - out_of_scope
      - bot_challenge
    required_slots:
      - user_id
      - cuisine
      - city
      - preferences                        # intent:preference, utter_ask_preference; What would you like to have ?

  restaurant_form:
    ignored_intents:
      - out_of_scope
      - bot_challenge
    required_slots:
      - user_id
      - restaurant_id
      - num_people
      - date

  # future forms
  # sign up form

  # short forms

  user_id_form:
    ignored_intents:
      - out_of_scope
      - bot_challenge
    required_slots:
      - user_id

  restaurant_id_form:
    ignored_intents:
      - out_of_scope
      - bot_challenge
      - inform_cuisine
    required_slots:
      - restaurant_id

  cuisine_form:
    ignored_intents:
      - out_of_scope
      - bot_challenge
    required_slots:
      - cuisine

  city_form:
    ignored_intents:
      - out_of_scope
      - bot_challenge
    required_slots:
      - city

  preferences_form:
    ignored_intents:
      - out_of_scope
      - bot_challenge
    required_slots:
      - preferences

  num_people_form:
    ignored_intents:
      - out_of_scope
      - bot_challenge
    required_slots:
      - num_people

  date_form:
    ignored_intents:
      - out_of_scope
      - bot_challenge
    required_slots:
      - date

# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #
# ---------------------------------------------------- Actions ------------------------------------------------------ #
# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #

actions:
  - action_query_knowledge_base                                 # query knowledge base
  - action_show_cuisines                                        # show cuisines
  - action_show_restaurants                                     # show restaurants (will filter by cuisine if provided)
  - action_show_more_restaurant_options                         # show more restaurant options
  - action_show_selected_restaurant_details                     # show selected restaurant details
  - action_show_booking_summary                                 # show booking summary
  - action_confirm_booking                                      # confirm booking
  - action_select_restaurant_ask_booking_confirmation           # ask booking confirmation for the selected restaurant

  - validate_restaurant_form                                    # validate restaurant form


# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #
# ------------------------------------------- Responses: Bot Utterances --------------------------------------------- #
# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #

responses:

  utter_greet:
    - text: Hey!
    - text: Hi!
    - text: Hello!
    - text: Hi ğŸ˜ƒ there!
    - text: Hey there!
    - text: Hello there ğŸ˜€ ?
    - text: Hello ğŸ˜€ there!

  # Implement below if you want to greet the user by name
  #slots:
  #  logged_in:
  #    type: bool
  #    influence_conversation: False
  #    mappings:
  #    - type: custom
  #  name:
  #    type: text
  #    influence_conversation: False
  #    mappings:
  #    - type: custom

  #  utter_greet:
  #    - condition:
  #        - type: slot
  #          name: logged_in
  #          value: true
  #      text: "Hey, {name}. Nice to see you again! How are you?"
  #
  #    - text: "Welcome. How is your day going?"

  utter_please_rephrase:
    - text: I'm sorry, I couldn't understand that. Could you rephrase it?
    - text: I'm sorry, I didn't get that. Could you rephrase it?

  utter_greet_again:
    - text: Hi there again!
    - text: Hello again!
    - text: Hi again!

  utter_mood_great_feedback:
    - text: Cool! ğŸ˜
    - text: Nice to hear ğŸ˜ƒ that
    - text: Thankful to hear that
    - text: Happy to hear ğŸ˜Š

  utter_mood_unhappy_feedback:
    - text: Sorry to hear that, maybe having something will make you feel better.
    - text: Sorry to hear that, Are you in the mood of having something to eat?
    - text: Hmm, eating something might help you feel better.

  # restaurant related responses

  utter_checkout_restaurants:
    - text: Wanna checkout restaurants?
    - text: Wanna checkout places to eat something ?
    - text: Want to check out some restaurants?
    - text: Interested in finding a restaurant to eat at?

  utter_ask_registered_user:
    - text: Are you a registered user?
    - text: Are you a registered user?
    - text: Are you a returning customer?
    - text: Did you create an account with us previously?
    - text: Have you signed up with us in the past?
    - text: Do you have an existing account with us?

  utter_ask_date:
    - text: When would you like to make the booking? (Enter a date in the format DD-MM-YYYY)
    - text: Please let me know the date for the booking. (Enter a date in the format DD-MM-YYYY)
    - text: What date do you have in mind for the booking? (Enter a date in the format DD-MM-YYYY)

  utter_ask_num_people:
    - text: May I know the number of people for the booking?
    - text: For how many people are you planing to make the reservation?

  utter_ask_to_confirm_booking:
    - text: Here is the summary of your booking please confirm if it looks ok.
    - text: Here is the summary of your booking. Are you okay with the details of the booking?

  utter_happy:
    - text: Great, carry on!
    - text: Cool!

  utter_emoji_great_feedback:
    - text: ğŸ˜Š
    - text: ğŸ˜„
    - text: ğŸ˜ƒ

  utter_emoji_mood_unhappy_feedback:
    - text: Eating something might help ğŸ¤—
    - text: Eating something might help ğŸ˜Š
    - text: Eating something might help ğŸ˜„
    - text: Eating something might help ğŸ˜ƒ

  utter_thank_you:
    - text: Thank you for using our service.

  utter_goodbye:
    - text: Bye
    - text: Goodbye

  utter_goodbye_again:
    - text: Farewell
    - text: See you later

  utter_welcome:
    - text: You're welcome!
    - text: No problem!
    - text: Happy to help!
    - text: My pleasure!
    - text: Anytime!
    - text: Always happy to help!

  utter_bot_challenge/bot:
    - text: I am ResBot, powered by Rasa.
    - text: I am ResBot, a bot powered by Rasa.
    - text: I am ResBot, a bot built using Rasa.

  utter_bot_challenge/who_are_you:
    - text: I am ResBot, I can recommend restaurants and help you make a reservation ğŸ´.
    - text: I am ResBot, I can help you find restaurants  and make a booking ğŸ§‚.
    - text: I am ResBot, I can help you find restaurants and book a table ğŸ½ï¸.
    - text: I am ResBot, an AI-powered chatbot here to help you with your restaurant booking needs.

  utter_bot_intro:
    - text: I'm ResBot! ğŸ´, I'll find amazing restaurants for you and easily book reservations ğŸŒŸ.
    - text: I'm ResBot, your personal dining concierge ğŸ´. I'm here to help you discover the perfect restaurants tailored to your taste, and effortlessly make reservations for you.

  utter_wanna_book:
    - text: Would you like to reserve a table at a fantastic restaurant? ğŸ½ï¸

  utter_bot_challenge/what_can_you_do:
    - text: I can help you book a restaurant ğŸ´.
    - text: I can help you find restaurants and book a table ğŸ½ï¸.
    - text: I can help you find restaurants and book a table ğŸ§‚.
    - text: I can help you find restaurants and book a table ğŸ½ï¸.
    - text: I can help you find restaurants and book a table ğŸ´.

  utter_ask_rephrase:
    - text: Sorry, I'm not sure I understand. Can you rephrase?
    - text: Can you please rephrase? I did not got that.

  utter_out_of_scope/out_of_functionality:
    - text: Sorry, I can't handle that request ğŸ¥². I can help you book a restaurant ğŸ˜ƒ.
    - text: Sorry, I can't do that ğŸ˜¢. I can help you book a restaurant ğŸ˜ƒ.
    - text: Sorry, I can't help you with that ğŸ¥¹. I can help you book a restaurant ğŸ˜ƒ.
    - text: Sorry, I am not able to help you with that. I can help you book a restaurant ğŸ˜ƒ.
    - text: Sorry, I am not able to help you with that. I can help you book a restaurant ğŸ˜ƒ.
    - text: Sorry, I am not able to help you with that. I can help you book a restaurant ğŸ˜ƒ.

  utter_query_search:
    - text: Let me check
    - text: Sure!
    - text: I'll check for you.
    - text: I'll see what I can find out.
    - text: I'll take a look and see what I can find.
    - text: I'll check and get back to you.

  utter_out_of_scope/food:
    - text: I understand you want to order food, but i'm afraid i can't handle that skill yet ğŸ˜¢.

  utter_out_of_scope/hotel:
    - text: I understand you want to book a hotel, but i'm afraid i can't handle that skill yet ğŸ˜¢.



config:
  store_entities_as_slots: true

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true

