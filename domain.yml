# domain.yml is the file where you define the domain of your assistant.
# This includes the intents, entities, slots, templates, actions, and forms your assistant uses.

version: "3.1"

# NLU

# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #
# ---------------------------------------------------- Intents ------------------------------------------------------ #
# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #

intents:

  # -----------Basic-------------
  - greet
  - mood_unhappy
  - mood_great
  - goodbye
  - affirm
  - deny
  - bot_challenge
  - emoji_mood_great
  - emoji_mood_unhappy

  # --------- Restaurant ----------

  # -------------request---------

  - request_cuisines
  - request_restaurants
  - request_menu
  - request_opening_hours
  - request_ambiance
  - request_more_options

  # ------------- show ----------
  - show_restaurants

  # ------------- inform ----------
  - inform_cuisine
  - inform_location
  - inform_num_people
  - inform_restaurant_name
  - inform_restaurant_id
  - inform_date_time

  # ---------knowledge base------
  - query_knowledge_base

  # ---------multi intents-------
  - request_restaurant + inform_opening_hours




# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #
# ---------------------------------------------------- Entities ------------------------------------------------------ #
# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #

entities:
  - object_type
  - mention
  - attribute
  - user_id
  - restaurant_id
  - restaurant_name
  - cuisine
  - city
  - num_people
  - opening_hours
  - date_time
  - ambiance
  - price_range
  - preferences

# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #
# ----------------------------------------------------- Slots ------------------------------------------------------- #
# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #

slots:

  user_id:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: user_id

  cuisine:
    type: text
    mappings:
      - type: from_entity
        entity: cuisine
        intent:
          - inform_cuisine
          - search_restaurants

  restaurant_id:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: restaurant_id
        intent:
          - inform_restaurant_id

  num_people:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: num_people
        intent:
          - inform_num_people

  date_time:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: date_time
        intent:
          - inform_date_time
          - search_restaurants

  # -------------------------- Knowledge base query related --------------------------
  object_type:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: object_type

  preferences:
    type: list
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: preferences

  mention:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: mention

  attribute:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: attribute

  restaurant_name:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: restaurant_name

  city:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: city

# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #
# ------------------------------------------------------ Forms ------------------------------------------------------ #
# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #

forms:

  # short forms

  user_id_form:
    ignored_intents:
      - out_of_scope
      - bot_challenge
    required_slots:
      - user_id

  restaurant_id_form:
    ignored_intents:
      - out_of_scope
      - bot_challenge
      - inform_cuisine
    required_slots:
      - restaurant_id

  cuisine_form:
    ignored_intents:
      - out_of_scope
      - bot_challenge
    required_slots:
      - cuisine

  city_form:
    ignored_intents:
      - out_of_scope
      - bot_challenge
    required_slots:
      - city

  preferences_form:
    ignored_intents:
      - out_of_scope
      - bot_challenge
    required_slots:
      - preferences

  num_people_form:
    ignored_intents:
      - out_of_scope
      - bot_challenge
    required_slots:
      - num_people

  date_time_form:
    ignored_intents:
      - out_of_scope
      - bot_challenge
    required_slots:
      - date_time

  # long forms

  restaurant_search_form:
    ignored_intents:
      - out_of_scope
      - bot_challenge
    required_slots:
      - user_id
      - cuisine
      - city
      - preferences                        # intent:preference, utter_ask_preference; What would you like to have ?

  restaurant_form:
    ignored_intents:
      - out_of_scope
      - bot_challenge
    required_slots:
      - user_id
      - restaurant_id
      - num_people
      - date_time


# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #
# ---------------------------------------------------- Actions ------------------------------------------------------ #
# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #

actions:
  - action_query_knowledge_base                                 # query knowledge base
  - action_show_cuisines                                        # show cuisines
  - action_show_restaurants                                     # show restaurants (will filter by cuisine and city if provided)
  - action_show_selected_restaurant_details                     # show selected restaurant details
  - action_show_booking_summary                                 # show booking summary
  - action_confirm_booking                                      # confirm booking

  - validate_restaurant_form                                    # validate restaurant form


# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #
# ------------------------------------------- Responses: Bot Utterances --------------------------------------------- #
# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #

responses:

  utter_greet:
    - text: Hey! How are you?
    - text: Hi! How are you?
    - text: Hello! How are you?
    - text: Hi 😃 there! How are you?
    - text: Hey there! How are you?
    - text: Hello there! How are you?
    - text: Hello 😀 How are you?

  # Implement below if you want to greet the user by name

  #slots:
  #  logged_in:
  #    type: bool
  #    influence_conversation: False
  #    mappings:
  #    - type: custom
  #  name:
  #    type: text
  #    influence_conversation: False
  #    mappings:
  #    - type: custom

  #  utter_greet:
  #    - condition:
  #        - type: slot
  #          name: logged_in
  #          value: true
  #      text: "Hey, {name}. Nice to see you again! How are you?"
  #
  #    - text: "Welcome. How is your day going?"

  utter_greet_again:
    - text: Hi there again!
    - text: Hello again!
    - text: Hi again!

  utter_mood_great_feedback:
    - text: Cool!
    - text: Nice to hear 😃
    - text: Thankful to hear that
    - text: Happy to hear 😊

  utter_mood_unhappy_feedback:
    - text: Sorry to hear that, maybe having something will make you feel better.
    - text: Sorry to hear that, Are you in the mood of having something to eat?
    - text: Hmm, eating something might help you feel better.

  # restaurant related responses

  utter_checkout_restaurants:
    - text: Wanna checkout places to eat something ?
    - text: Want to check out some restaurants?
    - text: Interested in finding a restaurant to eat at?

  utter_ask_registered_user:
    - text: Are you a registered user?
    - text: Are you a registered user?
    - text: Are you a returning customer?
    - text: Did you create an account with us previously?
    - text: Have you signed up with us in the past?
    - text: Do you have an existing account with us?

  utter_wanna_book:
    - text: Do you want to book a table?
    - text: Would you like to make a booking?
    - text: Would you like to make a reservation?
    - text: Shall we proceed with a booking?
    - text: Do you want to make a booking?
    - text: Do you want to book a table?
    - text: Do you want to make a reservation?

  utter_ask_date_time:
    - text: When would you like to make the booking?
    - text: Please let me know the date and time for the booking.
    - text: What date and time do you have in mind for the booking?

  utter_ask_num_people:
    - text: How many people will be joining you for the booking?
    - text: Can you please tell me the number of people for the booking?
    - text: What is the size of your group for the booking?

  utter_ask_to_confirm_booking:
    - text: Here is the summary of your booking. Please confirm if it looks good to you.
    - text: Before we proceed with the booking, could you please confirm the details?
    - text: Are you okay with the details of the booking?

  utter_happy:
    - text: Great, carry on!
    - text: Cool!

  utter_emoji_great_feedback:
    - text: 😊
    - text: 😄
    - text: 😃

  utter_emoji_mood_unhappy_feedback:
    - text: Eating something might help 🤗
    - text: Eating something might help 😊
    - text: Eating something might help 😄
    - text: Eating something might help 😃

  utter_goodbye:
    - text: Bye
    - text: Goodbye
    - text: Farewell
    - text: See you later
    - text: Take care
    - text: Ciao

  utter_bot_challenge/bot:
    - text: I am ResBot, powered by Rasa.
    - text: I am ResBot, a bot powered by Rasa.
    - text: I am ResBot, a bot built using Rasa.

  utter_bot_challenge/who_are_you:
    - text: I am ResBot, I can recommend you restaurants and help you make a booking 🍴.
    - text: I am ResBot, I can help you find restaurants  and make a booking 🧂.
    - text: I am ResBot, I can help you find restaurants and book a table 🍽️.

  utter_ask_rephrase:
    - text: Sorry, I'm not sure I understand. Can you rephrase?
    - text: Can you please rephrase? I did not got that.

  utter_out_of_scope/out_of_functionality:
    - text: Sorry, I can't handle that request 🥲. I can help you book a restaurant 😃.
    - text: Sorry, I can't do that 😢. I can help you book a restaurant 😃.
    - text: Sorry, I can't help you with that 🥹. I can help you book a restaurant 😃.
    - text: Sorry, I am not able to help you with that. I can help you book a restaurant 😃.
    - text: Sorry, I am not able to help you with that. I can help you book a restaurant 😃.
    - text: Sorry, I am not able to help you with that. I can help you book a restaurant 😃.

  utter_query_search:
    - text: Let me check
    - text: Sure!
    - text: I'll check for you.
    - text: I'll see what I can find out.
    - text: I'll take a look and see what I can find.
    - text: I'll check and get back to you.

  utter_out_of_scope/food:
    - text: I understand you want to order food, but i'm afraid i can't handle that skill yet 😢.

  utter_out_of_scope/hotel:
    - text: I understand you want to book a hotel, but i'm afraid i can't handle that skill yet 😢.

config:
  store_entities_as_slots: true

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true